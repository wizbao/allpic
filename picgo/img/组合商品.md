## 任务

组合商品的具体功能就是 商品A * X + 商品B * Y  +...  组成一个新的商品，**存组合商品的表**，先把组合商品做出来，然后看在**订单添加时怎么拆分成真正的SKU和数量**，最后**库存上传**时考虑一下怎么加入这个组合商品计算并上传组合可用数量

## 分析

组合商品M由商品A * 1 + 商品B * 2 + 商品C * 3 组成

若订单有组合商品M * 2，则将其拆分成A * 2 + B * 4 + C * 6  A

库存上传：若库存有A * 10 、B * 6 、C * 8，通过计算得出有两个可用的组合商品M，所以库存上传M的数量为2

## 表结构设计



![image-20230921175819285](./组合商品.assets/image-20230921175819285.png)

![image-20230921175901525](./组合商品.assets/image-20230921175901525.png)



![image-20230922115907183](./组合商品.assets/image-20230922115907183.png)

AAA :

15197	6

15178	2

BBB:

15197	3

15178	3

15253	3

为什么要做商品映射？

不同的销售平台可能使用不同的商品编码体系，而您的系统可能也有自己的商品编码体系。通过商品编码映射，可以将不同平台的商品信息标准化，使其与您的系统的商品编码对应起来。这有助于确保数据的一致性和可管理性。



拉取平台的商品时，系统商品编码不为空有两种情况：1、重复映射的商品，设置商品编码为null 2、正常映射的商品

系统商品编码为空时的情况：未映射的商品，商品编码为null



![image-20230926115025343](./组合商品.assets/image-20230926115025343.png)

http://supplychainconnector.xxmtest.7lk.cn/receivesupplychainmessage



组合商品上传接口

组合商品编码映射

拆分组合商品时为何要加个组合索引？
